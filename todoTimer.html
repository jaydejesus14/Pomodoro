<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel='stylesheet' href="style.css">
    
</head>
<body>
    <nav class="navbar sticky-top row navbar-light bg-light " id="navStyle">
        <div class="col-12 col-md-3">
            <div class="navbar-brand">
                <Link to="/">
                    <img src="images/logo.png" alt="Pivot" width="30px" height="100%" id="createMarginLeft"/>
                    <span id="createMargin">PIVOT</span>
                </Link>
            </div>
        </div>
        <div class="col-12 col-md-5">
            <ul class="nav justify-content-center">

                <li class="nav-item">
                    <a href='timer.html' class="btn" role="button" id="nav_btn" aria-disabled="true"><i id="createMargin" class="fa fa-clock"></i>Timer</a>
                </li>
                <li className="nav-item">
                    <a href='todo/todoList.html' class="btn" role="button" id="nav_btn" aria-disabled="true" ><i id="createMargin" class="fa fa-list-alt"></i>To-Do</a>
                </li>
                <li className="nav-item">
                    <a href='routine/routines.html' class="btn" role="button" id="nav_btn" aria-disabled="true" ><i id="createMargin" class="fa fa-list"></i>Routines</a>
                </li>
                <li className="nav-item">
                    <a href='user/googleCalendar.html' class="btn" role="button" id="nav_btn" aria-disabled="true" ><i id="createMargin" class="fa fa-calendar"></i>Calendar</a>
                </li>
                <li className="nav-item">
                    <a href='user/faq.html' class="btn" role="button" id="nav_btn" aria-disabled="true" ><i id="createMargin" class="fa fa-question"></i>FAQ</a>
                </li>

                <!-- NOT LOGGED IN DROPDOWN  !-->
                
                <div class="dropdown" id="createMarginLeft">
                    <button id="dropdown" class="btn btn-primary" type="button" data-toggle="dropdown"  aria-expanded="false" style = "text-align: center; border-radius: 100px; border: 1px solid transparent"><i id="userDropDown" class="fa fa-user-circle"></i>
                </button>
                    <ul class="dropdown-menu dropdown-menu-right" id = "notLoggedIn">
                        <a class="dropdown-item" id = "notLoggedInBtns" href="user/login.html">LOG-IN</a>
                        <a class="dropdown-item" id = "notLoggedInBtns" href="user/registration.html">SIGN-UP</a>
                        
                    </ul>
                    </div>
               

                <!-- LOGGED IN 

                <div class="dropdown" id="createMarginLeft">
                    <button id="dropdown" class="btn btn-primary" type="button" data-toggle="dropdown"  aria-expanded="false" style = "text-align: center; border-radius: 100px; border: 1px solid transparent"><i id="userDropDown" class="fa fa-user-circle"></i>
                </button>
                    <ul class="dropdown-menu dropdown-menu-right" id = "loggedIn">
                        <div class = "row">
                            <div class = "col text-center">
                            <i class="fa fa-user-circle" id="loggedInIcons"></i>
                            <h4 class = "text-center mt-3">USERNAME</h4>
                                <div class = "row">
                                    <div class = "col-md-6 text-right ">
                                        <span class = "">FirstName</span>
                                    </div>
                                    <div class = "col-md-6 text-left">
                                        <span class = "">LastName</span>
                                    </div>
                                </div>
                            <span>emailaddress@email.com</span>
                            <hr class = "hrWhite">
                            </div>
                        </div>
                        <div class = "btnLogged">
                            <a class="dropdown-item" id = "loggedInBtns" href="">EDIT PROFILE</a>
                            <a class="dropdown-item" id = "loggedInBtns" href="user/registration.html">CHANGE PASSWORD</a>
                            <a class="dropdown-item" id = "loggedInBtns" href="user/registration.html">REPORTS</a>
                            <hr class = "hrBlack">
                            <a class="dropdown-item" id = "loggedInBtns" href="timer.html">LOG-OUT</a>
                        </div>    
                    </ul>
                </div>
                END OF LOGGED-IN -->
</div>
</nav>
<div class = "spotify" >
    <button class="open-btn" onclick="openSpotify()" ><img src="images/spotifyLogo.png" alt="Spotify" width = "30px" height = "100%" ></button>

    <div class="spotify-popup" id="spotifyContainer">
        <div class = "row">
            <div class = "col text-right">
                <button type="button" class="btn" onclick="closeSpotify()" style="width: 50px;  /*! background-color: rgb(0, 0, 0, 0.2); */border-color: transparent;color: white; border-radius: 15px"><i class="fa fa-window-close" id = "toDoDrop" ></i></button>
            </div>
        </div>
        <div class = "row">
            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/playlist/6wObnEPQ63a4kei1sEcMdH?utm_source=generator" width="100%" height="380" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        </div>
</div>



    <section class ="timer">
    <div class="container px-5 py-5 mx-auto">
   
        
        <div class="container d-flex justify-content-around ">
        
            <div class = "button-group mode-buttons" id ="js-mode-buttons">
                <div class = "row">
                    <div class = "col-4">
                        <button
                        data-mode="pomodoro"
                        class = "button active currentSession"
                        id = "js-pomodoro" disabled
                        >POMODORO
                        
                        </button>
                     </div>
                     <div class = "col-4">
                     <button 
                    data-mode="shortBreak"
                    class = "currentSession"
                    id = "js-short-break" disabled>
                        BREAK
                        </button>
                        </div>

                        <div class = "col-4">
                        <button 
                        data-mode="longBreak"
                        class = "currentSession"
                        id = "js-long-break" disabled>
                            LONG BREAK
                            </button>
                        </div>
                        
                    
                </div>
                </div>
            </div>

            <div class="card timers mx-auto">
                <div class = "row justify-content-md-center text-center ml-auto mr-3 mb-1">
                        <div class = "col ">
                            <div class = "settingsIcon">
                            <i class="fa fa-cog" data-toggle = "modal" data-target = "#settings" id="timerIcons" style="font-size:24px"></i>
                        </div>
                        </div>
                    </div>
                    <div class = "modal fade" id="settings" role="dialog">
                        <div class = "modal-dialog modal-dialog-centered">
                           <div class = "modal-content">
                              <div class = "modal-header text-center d-block  ">
                                 <h4 class="modal-title  d-inline-block">SESSION SETTINGS</h4>
                              </div>
                              <div class = "modal-body">
                                <span class = "text-left">Time per session (minutes): </span>
                                <div class = "row text-center">
                                
                                    <div class = "col-4 mt-4">
                                        <span class = "text-center">POMODORO</span>
                                    </div>
                          
                            
                                <div class = "col-4 mt-4">
                                    <span class = "text-center">SHORT BREAK</span>
                                </div>
                                <div class = "col-4 mt-4">
                                    <span class = "text-center">LONG BREAK</span>
                                </div>
                               
                            </div>
                            <div class = "row text-center">
                                
                                <div class = "col-4 mt-2 mb-4">
                                    <input type = "number" class = "timeRoutine text-center" id = "timeRoutine" value ="" data-id='inputnumber' step="5" min="10" max ="60"></input>
                                </div>
                      
                        
                            <div class = " col-4 mt-2 mb-4">
                                <input type = "number" class = "timeRoutine text-center" id = "timeRoutine1" value ="" step="5" max ="15" min="5"></input>
                            </div>
                            <div class = " col-4 mt-2 mb-4">
                                <input type = "number" class = "timeRoutine text-center" id = "timeRoutine2" value ="" step="5" max ="15" min="5"></input>
                            </div>
                           
                        </div>
                        </div>
                        
                        <div class="modal-footer">
                            
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" onclick="saveSessionTime()" id = "modal-save">Save changes</button>
                       </div>
                       
                              </div>
                        </div>
                     </div>
                <div class = "row justify-content-md-center text-center mx-auto">
                    <div class = "col">
                        <div class = "time text-center" id ="js-clock">
                            <span id="js-minutes" style = "font-size: 40px"></span>
                            <span class="separator" style = "font-size: 40px">:</span>
                            <span id="js-seconds" style = "font-size: 40px">00</span>
                        </div>

                 <!-- Start Pause and Skip Buttons !-->
                <div class = "row justify-content-md-center text-center mx-auto">
                    <div class="col">
                    </div>
                    <div class="col">
                        <button class="btn-block"  id = "timerStart_btn">
                            START
                        </button>
                    </div>
                    <div class="col">
                 

                        <button class="btn-block skip_btn active" id = "skip_btn">
                    <i class="fa fa-fast-forward" id = "timerIcons" style="font-size:30px"></i>
                        </button>
                     
                    
                    </div>
                </div>
            </div>          
                  
</div>
</div>
       <!-- Session Name, Rewrite Session Name and Sticky Note !-->
       <div class = "row justify-content-md-center text-center mt-3 mx-auto">
        <div class = "col text-center">
            <div class = "currentSessionName" id="currentSession">
            SESSION NAME
            </div>   
        </div>
    </div>
    <div class = "row " style = "margin-top: -60px;">
        <div class = "col-md-8"></div>
            <div class = "col-md-4 text-right mx-auto">
                <button class="btn-block" id = "sessions_btns">
                    <i class="fa fa-pencil-alt" style="font-size:28px" id="indivIcon"></i>
                    <i class="fa fa-sticky-note" style="font-size:28px" id="indivIcon"></i>
                </button>
            </div>
        </div>   
    <div class = "row justify-content-md-center text-center">
        <hr class="solid" id="hrWhite">
    </div>
        <div class = "row justify-content-md-center text-center mx-auto mt-4 mb-4">
            <div class = "col">
        <div id="progressBar">
            <div id="progressTracker">10%</div>
            
          </div>
          <div class = "row">
            <div class = "col-6 text-left mt-2">
                <span class = "percentNum">0%</span>
            </div>
            <div class = "col-6 text-right mt-2">
                <span  class = "percentNum">100%</span>
            </div>
          </div>
          <!-- REMOVE BUTTON JUST A TESTING ON DESIGN -->
          <button class = "btn mt-3" style = "color: white" onclick="move()">TESTING PROGRESS DESIGN</button> 
        </div>
          
          <br>
          
          </div>
        <div class = "row justify-content-md-center text-center mx-auto">
        <div class = "col-8 text-left">
                    <div class = "pomSesions" style = "color:white; font-size:20px;">
                        POMODORO SESSIONS:
                    </div>
                      </div>
                    <div class ="col-2 text-right mt-1 mr-3">
                <i class="fa fa-chevron-circle-down" style="font-size:25px" id="expandIcon2"></i>
                </div>
                </div>

          <!-- POMODORO SESSIONS LIST !-->
          <div class = "row justify-content-md-center text-center mx-auto" id="pomodoroList">
            <div class="card sessionsList">
                <div class = "card-header sessionHeader">
                        <div class = "row  justify-content-md-center text-center" id ="accordionSession">
                        <div class = "col-8 text-left">
                            <div class = "sessionListName">
                                <input class ="sessionListInput" type = "text" placeholder="Session #" style="color: white">
                            </div>
                        </div>
                        <div class ="col-2 text-right mt-1">
                            <button class = "moreBtn" id = "collapsible"  data-toggle="collapse" data-target="#sessionCollapse" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fa fa-angle-down" id="sessionIcons"></i>
                            </button>
                        </div>
                    </div>
                </div>
      
                <div id="sessionCollapse" class="collapse" aria-labelledby="headingOne" data-parent="#accordionSession">
                    <div class = "card-body sessionsTimer">
                      <div class = "row text-center">
                        <div class = "notesTimer">
                            <textarea class ="notesTimerInput" type = "text" placeholder="Session #" style="color: black" cols="40" rows="6"></textarea>
                        </div> 
                      </div>
                      <hr>
                      <div class = "row">
                        <div class = "col-6 text-left">
                            <button type="button" class="btn lext-right" id = "sessSaveBtn">REMOVE</button>
                       </div>
                       <div class = "col-6 text-right">
                            <button type="button" class="btn " id = "sessSaveBtn">SAVE</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
             
             
        
      
        
          
        <!-- ADDING A SESSION !-->
        <div class = "row justify-content-md-center text-center mx-auto">
            <div class = "col">
                <button class="btn-block text-center" id = "addSession_btn">
                         <i class="fa fa-plus-circle" style="font-size:24px; margin-right:10px;" id="indivIcon"></i> ADD A SESSION
                </button>
            </div>
        </div>
        <hr class="solid" style="margin-bottom: 10px" id="hrWhite2">

         <!-- COMPLETED SESSIONS LIST !-->
         <div class = "row justify-content-md-center text-center mx-auto">
            <div class = "col-8 text-left">
                        <div class = "pomSesions" style = "color:white; font-size:20px;">
                            COMPLETED POMODORO SESSIONS:
                        </div>
                        </div>
                        <div class ="col-2 text-right mt-1 mr-3">
                    <i class="fa fa-chevron-circle-down" style="font-size:25px" id="expandIcon2"></i>
            </div>
        </div>
        <div class = "row justify-content-md-center text-center mx-auto">
            <div class="card sessionsList">
                <div class = "card-header">
                        <div class = "row  justify-content-md-center text-center" id ="accordionSessionC">
                        <div class = "col-8 text-left">
                            <div class = "sessionListName">
                                <input class ="sessionListInput" type = "text" placeholder="Session #">
                            </div>
                        </div>
                        <div class ="col-2 text-right mt-1">
                            <button class = "moreBtn" id = "collapsible"  data-toggle="collapse" data-target="#sessionCollapse2" aria-expanded="true" aria-controls="collapseOne">
                                <i class="fa fa-angle-down" id="sessionIcons"></i>
                            </button>
                        </div>
                    </div>
                </div>
      
                <div id="sessionCollapse2" class="collapse" aria-labelledby="headingOne" data-parent="#accordionSessionC">
                    <div class = "card-body sessionsTimer">
                      <div class = "row text-center">
                        <div class = "notesTimer">
                        <textarea class ="notesTimerInput" type = "text" placeholder="Session #" style="color: black" cols="40" rows="6"></textarea>
                    </div>
                      </div>
                      <hr>
                      <div class = "row">
                        <div class = "col-6 text-left">
                            <button type="button" class="btn btn-primary lext-right" id = "sessSaveBtn">CANCEL</button>
                       </div>
                       <div class = "col-6 text-right">
                            <button type="button" class="btn btn-primary" id = "sessSaveBtn">SAVE</button>
                        </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


       
        
        <hr class="solid" id="hrWhite2">

        <!-- SAVING ALL AS ROUTINE !-->
        <div class = "row justify-content-md-center text-center mx-auto">
            <div class = "col">
                <button class="btn-block text-center" id = "addSession_btn" data-toggle = "modal" data-target = "#saveRoutine">
                         <i class="fa fa-save"   style="font-size:24px; margin-right:10px;" id="indivIcon"></i> SAVE ALL AS ROUTINE
                </button>
            </div>
        <!-- SAVE AS ROUTINE MODAL -->
            <div class = "modal fade" id="saveRoutine" role="dialog">
                <div class = "modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
                   <div class = "modal-content">
                      <div class = "modal-header text-center d-block  ">
                         <h4 class="modal-title  d-inline-block">SAVE ROUTINE?</h4>
                      </div>
                      <div class = "modal-body">
                        <span class = "text-left">Time per session (minutes): </span>
                        <div class = "row text-center">
                        
                            <div class = "col-4 mt-4">
                                <span class = "text-center">POMODORO</span>
                            </div>
                  
                    
                        <div class = "col-4 mt-4">
                            <span class = "text-center">SHORT BREAK</span>
                        </div>
                        <div class = "col-4 mt-4">
                            <span class = "text-center">LONG BREAK</span>
                        </div>
                       
                    </div>
                    <div class = "row text-center">
                        
                        <div class = "col-4 mt-2 mb-4">
                            <input type = "number" class = "timeRoutine text-center" id = "timeRoutine" value ="20" data-id='inputnumber' step="5" min="20" max ="60"></input>
                        </div>
              
                
                    <div class = " col-4 mt-2 mb-4">
                        <input type = "number" class = "timeRoutine text-center" id = "timeRoutine1" value ="05" step="5" max ="15" min="5"></input>
                    </div>
                    <div class = " col-4 mt-2 mb-4">
                        <input type = "number" class = "timeRoutine text-center" id = "timeRoutine2" value ="05" step="5" max ="15" min="5"></input>
                    </div>
                   
                </div>
                <hr>
                <span class = "text-left mb-3" style = "font-size: 20px;">SESSIONS: </span>
                <div class = "groupedSess">
                    <!-- START OF SESSIONS-->
                    <div class = "row">
                        <div class = "col-10 text-left">
                            <input type="text" class = "taskName" id="todoName" placeholder="Session 1">
                        </div>
                        <div class = "col-2 text-center mb-4">
                            <i class="fa fa-trash" id = "trashIcon"></i>
                        </div>
                        <hr class = "hrWhite2">
                    </div>
                    <!--END-->

                    <!-- START OF ADD SESSIONS -->
                    <div class = "row">
                        <div class = "col text-center" id = "addSubGroup">
                        <i class="fa fa-plus-circle"  ></i>
                        <span class = "ml-2"  >Add Sub-Task</span>
                    </div>
                        
                    </div>
                    <!-- END -->            
                </div>
                </div>
                
                
                <div class="modal-footer">
                    
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">CANCEL</button>
                    <button type="button" class="btn btn-primary" id = "modal-save">SAVE</button>
               </div>
               
                      </div>
                </div>
             </div>
        </div>
</section>
<script src="//code.jquery.com/jquery.min.js"></script>
    <!-- <script src="timer.js"></script> -->
    <script>
var timer = {
    pomodoro: localStorage.getItem('pomodoro'),
    shortBreak:  localStorage.getItem('short_break'),
    longBreak:  localStorage.getItem('long_break'),
    longBreakInterval: 4,
    sessions: 0,
  };
  
  let interval;


  var btns = document.getElementsByClassName("currentSession");
  const mainButton = document.getElementById('timerStart_btn');
  mainButton.addEventListener('click', () => {
    const { action } = mainButton.dataset;
    if (action === 'START') {
      startTimer();
    } else {
      stopTimer();
    }
  });
  
  const modeButtons = document.querySelector('#js-mode-buttons');
  
  modeButtons.addEventListener('click', handleMode);
  
  function getRemainingTime(endTime) {
    const currentTime = Date.parse(new Date());
    const difference = endTime - currentTime;
  
    const total = Number.parseInt(difference / 1000, 10);
    const minutes = Number.parseInt((total / 60) % 60, 10);
    const seconds = Number.parseInt(total % 60, 10);
  
    return {
      total,
      minutes,
      seconds,
    };
  }
  
  function startTimer() {
    let { total } = timer.remainingTime;
    const endTime = Date.parse(new Date()) + total * 1000;
  
    if (timer.mode === 'pomodoro') timer.sessions++;
  
    mainButton.dataset.action = 'STOP';
    mainButton.textContent = 'STOP';
    mainButton.classList.add('active');
  
    interval = setInterval(function() {
      timer.remainingTime = getRemainingTime(endTime);
      updateClock();
      total = timer.remainingTime.total;
      if (total <= 0) {
        clearInterval(interval);
  
        switch (timer.mode) {
          case 'pomodoro':
            if (timer.sessions % timer.longBreakInterval === 0) {
              switchMode('longBreak');
            } else {
              switchMode('shortBreak');
            }
            break;
          default:
            switchMode('pomodoro');
            completed++
            move(completed)
        }
  
        startTimer();
      }
    }, 1000);
  }
  
  function stopTimer() {
    clearInterval(interval);
  
    mainButton.dataset.action = 'START';
    mainButton.textContent = 'START';
    mainButton.classList.remove('active');
  }
  
  function updateClock() {
    const { remainingTime } = timer;
    const minutes = `${remainingTime.minutes}`.padStart(2, '0');
    const seconds = `${remainingTime.seconds}`.padStart(2, '0');
  
    var min = document.getElementById('js-minutes');
    var sec = document.getElementById('js-seconds');
    
    min.textContent = minutes;
    sec.textContent = seconds;
    const text = timer.mode === 'pomodoro' ? 'Get back to work!' : 'Take a break!';
    document.title = `${minutes}:${seconds} â€” ${text}`;
  
  }
  
  function switchMode(mode) {
    timer.mode = mode;
    timer.remainingTime = {
      total: timer[mode] * 60,
      minutes: timer[mode],
      seconds: 0,
    };
  
    document
      .querySelectorAll('button[data-mode]')
      .forEach(e => e.classList.remove('active'));
    document.querySelector(`[data-mode="${mode}"]`).classList.add('active');
  
    updateClock();
  }
  
  function handleMode(event) {
    const { mode } = event.target.dataset;
  
    if (!mode) return;
  
    switchMode(mode);
    stopTimer();
  }
  
  document.addEventListener('DOMContentLoaded', () => {
    switchMode('pomodoro');
  });

  

    </script>
    <script>
        var completed = 0
        orderSession(0)

        function saveSessionTime(){
            var id = localStorage.getItem('majorTaskId')
            var pomodoro = document.getElementById('timeRoutine').value 
            var short_break = document.getElementById('timeRoutine1').value 
            var long_break = document.getElementById('timeRoutine2').value 

            localStorage.setItem('pomodoro',pomodoro)
            localStorage.setItem('long_break',long_break)
            localStorage.setItem('short_break',short_break)
            $.ajax({
                    type:"POST",
                    url: "http://localhost/pomodoro/api/session_time_update.php",
                    dataType: "json",
                    data:{
                        id: id,
                        pomodoro: pomodoro,
                        short_break: short_break,
                        long_break: long_break
                    },
                    
                    cache:false,
                    success: function(dataResult){
                        
                       location.reload()
                    },error:function(err){
                console.log('error')		 
                }
            })
        }
        function orderSession(res){
            var majorTaskId = localStorage.getItem('majorTaskId')
            $.ajax({
                    type:"POST",
                    url: "http://localhost/pomodoro/api/return_specific_group_task.php",
                    dataType: "json",
                    data:{
                        id: majorTaskId
                    },
                    
                    cache:false,
                    success: function(dataResult){
                    var currentSession = ''
                    var innerHtml = ''
                    var countSession = 0
                    for(let i = 0; i < dataResult.subtask.length; i++){
                        countSession++
                        if( i == res ){
                            currentSession = dataResult.subtask[i].subtaskName
                        }
                        else{
                            innerHtml+='<div class="card sessionsList">'
                            innerHtml+='<div class = "card-header sessionHeader">'
                            innerHtml+='<div class = "row  justify-content-md-center text-center" id ="accordionSession">'
                            innerHtml+='<div class = "col-8 text-left">'
                            innerHtml+='<div class = "sessionListName">'
                            innerHtml+='<input class ="sessionListInput" type = "text" value="'+dataResult.subtask[i].subtaskName+'" placeholder="Session #" style="color: white">'
                            innerHtml+='</div>'
                            innerHtml+='</div>'
                            innerHtml+='<div class ="col-2 text-right mt-1">'
                            innerHtml+='<button class = "moreBtn" id = "collapsible"  data-toggle="collapse" data-target="#sessionCollapse'+i+'" aria-expanded="true" aria-controls="collapseOne">'
                            innerHtml+=' <i class="fa fa-angle-down" id="sessionIcons"></i>'
                             innerHtml+='</button>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                             innerHtml+='<div id="sessionCollapse'+i+'" class="collapse" aria-labelledby="headingOne" data-parent="#accordionSession">'
                             innerHtml+='<div class = "card-body sessionsTimer">'
                             innerHtml+='<div class = "row text-center">'
                             innerHtml+='<div class = "notesTimer">'
                             innerHtml+='<textarea class ="notesTimerInput" type = "text" placeholder="Session #" style="color: black" cols="40" rows="6"></textarea>'
                             innerHtml+='</div>' 
                             innerHtml+='</div>'
                             innerHtml+='<hr>'
                             innerHtml+='<div class = "row">'
                             innerHtml+='<div class = "col-6 text-left">'
                             innerHtml+='<button type="button" class="btn lext-right" id = "sessSaveBtn">REMOVE</button>'
                             innerHtml+='</div>'
                             innerHtml+='<div class = "col-6 text-right">'
                             innerHtml+='<button type="button" class="btn " id = "sessSaveBtn">SAVE</button>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                             innerHtml+='</div>'
                        }
                    }
                    localStorage.setItem('countSession',countSession)
                    // console.log(dataResult.major_task.pomodoro)
                   
                    $('#currentSession').html(currentSession)
                    document.getElementById('timeRoutine').value = dataResult.major_task.pomodoro
                    document.getElementById('timeRoutine1').value = dataResult.major_task.short_break
                    document.getElementById('timeRoutine2').value = dataResult.major_task.long_break
                    localStorage.setItem('pomodoro',dataResult.major_task.pomodoro)
                    // localStorage.setItem('short_break',dataResult.major_task.short_break)
                    localStorage.setItem('long_break',dataResult.major_task.long_break)
                    $('#js-minutes').html(dataResult.major_task.pomodoro)
                    // console.log(dataResult)
                    $('#pomodoroList').html(innerHtml);
                    },error:function(err){
                console.log('error')		 
                }
            })
        }
        var i = 0;
        function move(res) {
            var count_session = localStorage.getItem('countSession')

            var total = 100 * (res / count_session)
          if (i == 0) {
            i = 1;
            var elem = document.getElementById("progressTracker");
            var width = 10;
            var id = setInterval(frame, 10);
            function frame() {
              if (width >= total) {
                clearInterval(id);
                i = 0;
              } else {
                width++;
                elem.style.width = width + "%";
                elem.innerHTML = width  + "%";
              }
            }
          }
          orderSession(res)
        }
        </script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
    <script>
         var clicks = 0;
    function openSpotify() {
      document.getElementById("spotifyContainer").style.display = "block";
      
        if(clicks == 0){
            alert("Please make sure to lower the volume before playing!");
            clicks += 1;
        }
     
    }
        
        function closeSpotify() {
          document.getElementById("spotifyContainer").style.display = "none";
        }
     </script>


</body>
</html>